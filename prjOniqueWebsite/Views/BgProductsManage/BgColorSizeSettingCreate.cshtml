
@{
    ViewData["Title"] = "BgColorSizeSettingCreate";
    Layout = "~/Views/Shared/_Layout_Background.cshtml";
}
<div class="container d-flex p-3 justify-content-center">
    <input type="hidden" id="productId" />
    <div class="col-2" style="margin-left: 8%;">
        <div class="text-center my-2">            
            <div class=" border p-3 rounded-4">
                <div class="p-2 my-1 bg-dark text-white rounded">
                    細項新增
                </div>
                <div class="container">
                    <a class="btn btn-outline-dark border form-control my-2 fw-bold" asp-action="BgCreateSize">新增尺寸</a>
                    <a class="btn btn-outline-dark border form-control my-2 fw-bold" asp-action="BgCreateColor">新增顏色</a>
                    <a class="btn btn-outline-dark border form-control my-2 fw-bold" asp-action="BgDiscountCreate">新增優惠</a>
                </div>
            </div>
        </div>
    </div>
    <div class="container col-6 border rounded-4 mx-4 justify-content-center shadow">
        <div class="container justify-content-center text-center">
            <div class="align-items-center fs-3 fw-bold border-bottom p-2">尺寸、顏色設定</div>
        </div>
        <div class="my-5" id="colorsizeTable">
            <div class="d-flex p-2 align-items-center text-center my-2" style="font-size: 18px; margin-left: 30%;">
                <div class="text-center fw-bold">商品名稱 :</div>
                <div class="mx-2">@ViewBag.ProductName</div>
            </div>
            <div class="d-flex p-2 align-items-center my-2" style="font-size: 18px; margin-left: 30%;">
                <div class="fw-bold text-center">商品尺寸 :</div>
                <div class="mx-2" id="selectSize">
                    <input type="hidden" value="@ViewBag.SizeName" id="selectSize" />
                    <select class="form-select" name="Sizes" id="Size">
                        @*<option value=""></option>*@
                    </select>
                </div>
            </div>
            <div class="d-flex p-2 align-items-center my-2" style="font-size: 18px; margin-left: 30%;">
                <div class="fw-bold text-center">商品顏色 :</div>
                <div class="mx-2">
                    <input type="hidden" value="@ViewBag.ColorName" id="selectColor" />
                    <select class="form-select" name="Colors" id="Color">
                        @*<option value=""></option>*@
                    </select>
                </div>
            </div>
        </div>
        <div style="margin-bottom: 20px;">
            <div class="text-center ">
                <a class="btn btn-outline-dark fw-bold mx-4" asp-action="Index">取消</a>
                <input type="submit" class="btn btn-dark fw-bold" value="新增庫存資料">
            </div>
        </div>
    </div>
</div>
@section Scripts{
    <script>
        loadColor();
        loadSize();
        async function loadColor(){
            const response = await fetch(`@Url.Content("~/BgProductManageApi/LoadColor")`)
            const datas = await response.json();
            const selectColor = $("#selectColor").val()
            let ColorOption = ""
            console.log(datas)
            datas.map(item=>{
                const{ colorId,colorName}=item
                ColorOption += `<option value="${colorId}">${colorName}</option>`
            })
            $('#Color').append(ColorOption)
        }
        async function loadSize(){
            const response = await fetch(`@Url.Content("~/BgProductManageApi/LoadSize")`)
            const datas = await response.json();
            const selectSize =$("#selectSize").val()
            let SizeOption = ""
            console.log(datas)
            datas.map(item=>{
                const{sizeId,sizeName}=item
                SizeOption += `<option value="${sizeId}">${sizeName}</option>`
            })
            $('#Size').append(SizeOption)
        }

    </script>
}